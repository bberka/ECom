@using ECom.Shared.DTOs
@using ECom.Shared.Constants
@using ECom.Shared.Abstract.Services.Admin
@inherits ComponentBase
@inject SupportedCultures SupportedCultures
@inject IAdminCompanyInformationService CompanyInformationService


  <RadzenHeader>
    <RadzenStack Orientation="Orientation.Horizontal" JustifyContent="JustifyContent.SpaceBetween" AlignItems="AlignItems.Center">
      <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0">
        <RadzenSidebarToggle Click="@ToggleSideBar" />
        <RadzenLabel Text="@CompanyInformationService.GetCompanyInformation().CompanyName" />
      </RadzenStack>
      <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center">
        @*<DropDownTheme></DropDownTheme>*@
        @*<DropDownCulture></DropDownCulture>*@
        <UserMenu></UserMenu>
      </RadzenStack>
    </RadzenStack>
  </RadzenHeader>
  <RadzenSidebar @bind-Expanded="@_sideBarExpanded" Responsive="true" >


    <RadzenStack AlignItems="AlignItems.Center">

      <RadzenPanelMenu Style="width: 100%" Multiple="false">
        <RadzenPanelMenuItem Text="@Loc["dashboard"]" Path="dashboard" Icon="home" />


        <AuthorizeView Policy="@(AdminPermission.ManageCategories.ToString())">
          <Authorized>
          <RadzenPanelMenuItem Text="@Loc["categories"]" Path="categories" Icon="category" />
          </Authorized>
        </AuthorizeView>

        <AuthorizeView Policy="@(AdminPermission.ManageAnnouncements.ToString())">
          <Authorized>
          <RadzenPanelMenuItem Text="@Loc["announcements"]" Path="announcements" Icon="campaign" />
          </Authorized>
        </AuthorizeView>
        <AuthorizeView Policy="@(AdminPermission.ManageImages.ToString())">
          <Authorized>
          <RadzenPanelMenuItem Text="@Loc["images"]" Icon="image">
              <RadzenPanelMenuItem Text="@(Loc["image"] + " " + Loc["list"])" Path="image/list"/>
              <RadzenPanelMenuItem Text="@(Loc["upload"] + " " + Loc["image"])" Path="image/upload"/>
            </RadzenPanelMenuItem>
          </Authorized>
        </AuthorizeView>

      <RadzenPanelMenuItem Text="@Loc["options"]" Icon="tune">
          <AuthorizeView Policy="@(AdminPermission.ManageGeneralOptions.ToString())">
            <Authorized>
              <RadzenPanelMenuItem Text="@(Loc["general"] + " " + Loc["options"])" Path="options/general"/>
            </Authorized>
            
          </AuthorizeView>
          <AuthorizeView Policy="@(AdminPermission.ManageSmtpOption.ToString())">
            <Authorized>
              <RadzenPanelMenuItem Text="@(Loc["smtp"] + " " + Loc["options"])" Path="options/smtp"/>
            </Authorized>
          </AuthorizeView>
          <AuthorizeView Policy="@(AdminPermission.ManagePaymentOptions.ToString())">
            <Authorized >
              <RadzenPanelMenuItem Text="@(Loc["payment"] + " " + Loc["options"])" Path="options/payment"/>
            </Authorized>
          </AuthorizeView>
          <AuthorizeView Policy="@(AdminPermission.ManageCargoOptions.ToString())">
            <Authorized>
              <RadzenPanelMenuItem Text="@(Loc["cargo"] + " " + Loc["options"])" Path="options/cargo"/>

            </Authorized>
          </AuthorizeView>
          <AuthorizeView Policy="@(AdminPermission.ManageCompanyInformation.ToString())">
            <Authorized>
              <RadzenPanelMenuItem Text="@(Loc["company"] + " " + Loc["info"])" Path="options/company"/>
            </Authorized>
          </AuthorizeView>
        </RadzenPanelMenuItem>
        <AuthorizeView Policy="@(AdminPermission.ManageAdmins.ToString())">
          <Authorized>
          <RadzenPanelMenuItem Text="@Loc["admins"]" Path="admins" Icon="manage_accounts" />
          </Authorized>
        </AuthorizeView>
        <AuthorizeView Policy="@(AdminPermission.ManageRoles.ToString())">
          <Authorized>
          <RadzenPanelMenuItem Text="@Loc["roles"]" Icon="admin_panel_settings" Path="roles" />
          </Authorized>
        </AuthorizeView>

      <RadzenPanelMenuItem Text="@(Loc["panel_settings"])" Icon="settings" Path="PanelSettings" />


      </RadzenPanelMenu>

    </RadzenStack>

  </RadzenSidebar>



@code {
  bool _sideBarExpanded = true;


  private void ToggleSideBar() {
    _sideBarExpanded = !_sideBarExpanded;
  }

}

}