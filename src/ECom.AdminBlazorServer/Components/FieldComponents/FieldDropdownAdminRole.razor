@using Microsoft.AspNetCore.Components
@using ECom.Domain.Entities
@using ECom.Shared.DTOs.AdminDto
@using ECom.Application.Services
@using System.Globalization
@inherits BaseValueChangedComponent<string>

@inject IRoleService RoleService

<div class="mb-2">
  <RadzenFormField class="my-2 w-100" Component="RoleId" Text="@Loc["role"]" Variant="Variant.Filled">
    <RadzenDropDown @bind-Value="Value" Name="RoleId" TValue="string" Data="@roles" ValueProperty="@nameof(Role.Id)" TextProperty="@nameof(Role.Id)" Culture="CultureInfo.CurrentCulture" />
  </RadzenFormField>
  <RadzenRequiredValidator Component="RoleId" Text="@Loc["required"].Format("name", Loc["role"])"></RadzenRequiredValidator>
  <RadzenNumericRangeValidator Component="RoleId" Min="1" Max="3" Text="@Loc["required"].Format("name",Loc["role"])"></RadzenNumericRangeValidator>
</div>

@code {
  private List<Role> roles;
  protected override void OnInitialized() {
    roles = RoleService.GetRoles();
  }
  
}