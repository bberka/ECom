@*@inject AdminAuthenticationStateProvider Auth*@


<RadzenProfileMenu >
  <Template >
    <RadzenLabel Text="@_emailAddress"></RadzenLabel>

  </Template>
  <ChildContent>

    <RadzenProfileMenuItem Text="@Loc["account"]" Path="account" Icon="account_circle"></RadzenProfileMenuItem>
    <RadzenProfileMenuItem Text="@Loc["logout"]" Icon="logout" Path="logout"/>

  </ChildContent>
</RadzenProfileMenu>

@code {
  private string _emailAddress = "";

  [CascadingParameter]
  public Task<AuthenticationState> AuthTask { get; set; }

  protected override async Task OnAfterRenderAsync(bool firstRender) {
    if (firstRender) {
      var state = await AuthTask;
      _emailAddress = state.User.Identity?.Name ?? "";
      StateHasChanged();
    }
  }


}