@*@inject AdminAuthenticationStateProvider Auth*@


<RadzenProfileMenu >
  <Template >
      <RadzenLabel Text="@_emailAddress"></RadzenLabel>

  </Template>
  <ChildContent>

    <RadzenProfileMenuItem Text="@Loc["account"]" Path="account" Icon="account_circle"></RadzenProfileMenuItem>
    <RadzenProfileMenuItem Text="@Loc["logout"]" Icon="logout" Path="logout"/>

  </ChildContent>
</RadzenProfileMenu>
@code {
  private string _emailAddress = "" ;

  protected override async Task OnAfterRenderAsync(bool firstRender) {
    if (firstRender) {
      var state = await AuthProvider.GetAuthenticationStateAsync();
      _emailAddress = state.User.Identity?.Name ?? "";
      StateHasChanged();
    }

  }


}