@*@inject AdminAuthenticationStateProvider Auth*@
@inject AuthenticationService AuthenticationService

<RadzenProfileMenu class="h-100 w-100 p-0 m-0 mw-100 mh-100 ">
  <Template >
    <RadzenLabel   class="p-3 " Text="@_emailAddress"></RadzenLabel>

  </Template>
  <ChildContent>

    <RadzenProfileMenuItem  Text="@Loc["account"]" Path="account" Icon="account_circle"></RadzenProfileMenuItem>
    <RadzenProfileMenuItem Text="@Loc["logout"]" Icon="logout" Path="logout"/>

  </ChildContent>
</RadzenProfileMenu>

@code {
  private string _emailAddress = "";

  //[CascadingParameter]
  //public Task<AuthenticationState> AuthTask { get; set; }

  protected override async Task OnAfterRenderAsync(bool firstRender) {
    if (firstRender) {
      //var state = await AuthTask;
      _emailAddress = AuthenticationService.CurrentUser.Identity?.Name ?? "";
      StateHasChanged();
    }
  }


}