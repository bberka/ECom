@page "/admins"
@using ECom.Shared.DTOs.AdminDto
@using ECom.Domain.Abstract

@inject IAdminService AdminService

<PageTitle>Admins</PageTitle>

<RadzenText TextStyle="TextStyle.H3">Admins</RadzenText>

<RadzenDataGrid Data="@admins" AllowFiltering=true TItem="AdminDto"  AllowColumnPicking="true" PickedColumnsChanged="@PickedColumnsChanged">
  <Columns>
    <RadzenDataGridColumn TItem="AdminDto" Property="Id" Title="@Lang.Get("id")" Width="80px" TextAlign="TextAlign.Center" Frozen="true" />
    <RadzenDataGridColumn TItem="AdminDto" Property="RegisterDate" Title="@Lang.Get("register_date")" FormatString="{0:d}" />
    <RadzenDataGridColumn TItem="AdminDto" Property="EmailAddress" Title="@Lang.Get("email_address")"  />
    <RadzenDataGridColumn TItem="AdminDto" Property="TwoFactorType" Title="@Lang.Get("two_factor_type")" />
    <RadzenDataGridColumn TItem="AdminDto" Property="RoleId" Title="@Lang.GetMerged("role","id")" />
    <RadzenDataGridColumn TItem="AdminDto" Property="RoleName" Title="@Lang.GetMerged("role","name")" />
    <RadzenDataGridColumn TItem="AdminDto" Property="DeletedDate" Title="@Lang.GetMerged("deleted","date")" FormatString="{0:d}" />
  </Columns>
</RadzenDataGrid>

@code {
  private List<AdminDto> admins;

  protected override void OnInitialized() {
    base.OnInitialized();

    admins = AdminService.GetAdmins();

  }

  void PickedColumnsChanged(DataGridPickedColumnsChangedEventArgs<AdminDto> args) {
  }
}




